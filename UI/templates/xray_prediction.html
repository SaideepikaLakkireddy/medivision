<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>X-ray Prediction</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

<!-- Google Fonts & AOS -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Mozilla+Headline:wght@200..700&display=swap" rel="stylesheet" />

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

<!-- Global stylesheet -->
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<style>
body { background:#fff !important; font-family:"Segoe UI",sans-serif; margin:0; padding:0; }

.xray-page-wrapper { 
  padding:20px; 
  min-height:calc(100vh - 140px); 
  display:flex; 
  justify-content:center; 
  align-items:flex-start; 
  box-sizing:border-box; 
}

.xray-page-wrapper .page-wrapper { 
  display:flex; 
  justify-content:center; 
  align-items:stretch; 
  flex-wrap:wrap; 
  gap:25px; 
  position:relative; 
}

.equal-card { 
  width:430px; 
  min-height:540px; 
  opacity:0; 
  transform:translateY(25px); 
  animation:fadeSlide 0.8s ease-out forwards; 
  flex:1; 
  position:relative; 
}
@keyframes fadeSlide { 
  from { opacity:0; transform:translateY(25px);} 
  to { opacity:1; transform:translateY(0);} 
}

.xray-page-wrapper .card, 
.xray-page-wrapper .faq-section { 
  min-height:540px; 
  flex:1; 
}

.xray-page-wrapper .card { 
  border-radius:12px; 
  box-shadow:0 2px 12px rgba(0,0,0,0.15); 
  background:#c9d7ff; 
  padding:28px; 
}

.xray-page-wrapper .card h2 { 
  text-align:center; 
  margin-bottom:25px; 
  font-size:2rem; 
}

.xray-page-wrapper .plain-img-box, 
.xray-page-wrapper .plain-zip-box { 
  width:100%; 
  background:#fff; 
  border:2px solid black; 
  border-radius:10px; 
  padding:30px; 
  text-align:center; 
  cursor:pointer; 
  margin-bottom:20px; 
}

.xray-page-wrapper .img-icon i { font-size:50px; color:#0d6efd; display:block; margin-top:10px; }
.xray-page-wrapper .real-input { display:none; }

.xray-page-wrapper .img-preview-container, 
.xray-page-wrapper .zip-preview-container { 
  display:none; 
  align-items:center; 
  justify-content:space-between; 
  width:100%; 
  margin-bottom:12px; 
  background:#fff; 
  border:2px solid black; 
  border-radius:10px; 
  padding:8px 12px; 
}
.xray-page-wrapper .img-preview-container img { width:160px; height:160px; object-fit:cover; border-radius:10px; }
.xray-page-wrapper .zip-preview-container span { flex:1; padding-left:10px; word-break:break-all; }

.xray-page-wrapper .remove-small { 
  display:none; 
  padding:6px 14px; 
  background:#d82e3f; 
  color:white; 
  border:none; 
  border-radius:6px; 
  font-size:0.95rem; 
  cursor:pointer; 
}

.xray-page-wrapper .predict-btn { 
  width:100%; 
  padding:12px 18px; 
  margin-top:20px; 
  background:#28a745; 
  border:none; 
  border-radius:8px; 
  color:white; 
  font-size:1.15rem; 
  transition:0.25s; 
}

.xray-page-wrapper .predict-btn:hover { 
  transform:scale(1.05); 
  background:#218838; 
  box-shadow:0 0 12px rgba(33,136,56,0.5); 
}

.xray-page-wrapper .back-btn {  position: absolute; top: -10px; left: -230px; padding: 12px 14px; background:#3b2828; color: white; border: none; border-radius: 50%; cursor: pointer; font-size: 1.3rem; z-index: 10; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0,0,0,0.25); display: flex; align-items: center; justify-content: center; }

.xray-page-wrapper .back-btn:hover { 
  transform:scale(1.15) rotate(-5deg); 
  box-shadow:0 6px 16px rgba(0,0,0,0.35); 
}

.xray-page-wrapper .faq-section { 
  background:#c9d7ff; 
  border-radius:12px; 
  padding:20px; 
  flex:1; 
}

.xray-page-wrapper .faq-section h3 { text-align:center; margin-bottom:20px; font-size:1.8rem; }
.accordion-item { border-bottom:3px solid #0d6efd; }

@media(max-width:992px){
  .xray-page-wrapper .equal-card{width:90%;}
  .xray-page-wrapper .back-btn{top:0;left:5px;font-size:1.1rem;padding:8px 10px;}
}
@media(max-width:576px){
  .xray-page-wrapper{padding:10px;}
  .xray-page-wrapper .equal-card{width:100%;min-height:auto;}
  .xray-page-wrapper .img-preview-container img{width:120px;height:120px;}
}

footer{ margin-top:24px; }
</style>

</head>
<body>

<header class="sticky-top">
<nav class="navbar navbar-expand-lg site-nav">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center gap-2" href="{{ url_for('home_html') }}">
      <img src="{{ url_for('static', filename='assets/img1.png') }}" alt="Logo" height="50" width="50" class="rounded-circle">
      <span class="fw-bold">MEDIVISION AI</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="{{ url_for('home_html') }}">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('about_html') }}">About</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('finddoctors_html') }}">Find Doctor</a></li>
        <li class="nav-item"><a class="nav-link active" href="{{ url_for('prediction_html') }}">Our AI</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('contact_html') }}">Contact</a></li>
      </ul>
      <ul class="navbar-nav ms-auto align-items-center">

            <li class="nav-item" id="loginBtnContainer">
              <button class="login-btn" onclick="window.location.href='{{ url_for('login_html') }}'">
                Login <i class="bi bi-person ms-1"></i>
              </button>
            </li>

            <!-- FIXED: Correct profile icon ID for script.js -->
            <li class="nav-item d-none ms-3" id="profileIconContainer" title="Profile">
              <i class="bi bi-person-circle" id="openProfileBtn" role="button"></i>
            </li>

          </ul>
    </div>
  </div>
</nav>
</header>
<!-- PROFILE SIDEBAR -->
<aside id="profileSidebar" class="profile-sidebar" aria-hidden="true">
  <div>
    <div class="sidebar-header">
      <i class="bi bi-person-circle sidebar-icon"></i>
      <h4 id="sidebarName">User Name</h4>
      <p id="sidebarEmail">user@example.com</p>
      <p id="sidebarMobile">Mobile:</p>
    </div>
    <div class="sidebar-content">
      <a href="{{ url_for('health_records_html') }}" class="btn btn-light w-100 mb-3">Health Records</a>
    </div>
  </div>
  <div>
    <button class="btn btn-danger w-100" id="logoutBtn">Logout</button>
  </div>
</aside>
<div id="sidebarOverlay" class="sidebar-overlay" aria-hidden="true"></div>
<main class="xray-page-wrapper container">
<div class="page-wrapper">

<!-- BACK BUTTON -->
<button class="back-btn" onclick="window.location.href='{{ url_for('prediction_html') }}'"><i class="fas fa-arrow-left"></i></button>

<!-- X-ray Card -->
<div class="equal-card card" id="predictionCard" data-aos="fade-up">
  <h2>X-ray Prediction</h2>

  <form method="post" action="{{ url_for('xray_result_page') }}" enctype="multipart/form-data">
    <div class="plain-img-box" onclick="document.getElementById('xrayImg').click()">Upload a single X-ray
      <div class="img-icon"><i class="fas fa-cloud-arrow-up"></i></div>
    </div>
    <input id="xrayImg" name="xray_image" type="file" class="real-input" accept="image/*"
           onchange="handleImageChange(this,'xrayPreviewImgContainer','xrayRemove')" />
    <div id="xrayPreviewImgContainer" class="img-preview-container">
      <img id="xrayPreviewImgTag">
      <button id="xrayRemove" type="button" class="remove-small"
        onclick="clearImage('xrayImg','xrayPreviewImgContainer','xrayRemove')">Remove</button>
    </div>

    <div class="plain-zip-box" onclick="document.getElementById('xrayZip').click()">Upload ZIP file (multiple X-rays)
      <div class="img-icon"><i class="fas fa-folder"></i></div>
    </div>
    <input id="xrayZip" name="xray_zip" type="file" class="real-input" accept=".zip"
           onchange="handleZipChange(this,'xrayZipPreviewContainer','xrayZipRemove')" />
    <div id="xrayZipPreviewContainer" class="zip-preview-container">
      <span id="xrayZipName"></span>
      <button id="xrayZipRemove" type="button" class="remove-small"
        onclick="clearZip('xrayZip','xrayZipPreviewContainer','xrayZipRemove','xrayZipName')">Remove</button>
    </div>

    <button type="submit" class="predict-btn">Predict X-ray</button>
  </form>

  <div id="result-section"></div>
</div>

<!-- FAQ Section -->
<div class="faq-section" data-aos="fade-up" data-aos-duration="800">
  <h3>Frequently Asked Questions</h3>
  <div class="accordion" id="faqAccordion">
    
        <div class="accordion-item">
          <h2 class="accordion-header" id="faq1Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq1">
              1. How do I upload an X-ray image?
            </button>
          </h2>
          <div id="faq1" class="accordion-collapse collapse">
            <div class="accordion-body">Click upload and choose your chest X-ray.</div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq2Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq2">
              2. What type of images can I upload?
            </button>
          </h2>
          <div id="faq2" class="accordion-collapse collapse">
            <div class="accordion-body">JPG, JPEG, PNG</div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq3Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq3">
              3. Can I upload more than one image?
            </button>
          </h2>
          <div id="faq3" class="accordion-collapse collapse">
            <div class="accordion-body">Yes — ZIP upload is supported</div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq4Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq4">
              4. How long does prediction take?
            </button>
          </h2>
          <div id="faq4" class="accordion-collapse collapse">
            <div class="accordion-body">1–3 seconds on average</div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq5Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq5">
              5. What will I get?
            </button>
          </h2>
          <div id="faq5" class="accordion-collapse collapse">
            <div class="accordion-body">Prediction, confidence, recommended doctor</div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq6Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq6">
              6. How accurate is it?
            </button>
          </h2>
          <div id="faq6" class="accordion-collapse collapse">
            <div class="accordion-body">AI gives confidence score</div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq7Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq7">
              7. What if the image is not a chest X-ray?
            </button>
          </h2>
          <div id="faq7" class="accordion-collapse collapse">
            <div class="accordion-body">Upload only medical chest X-rays</div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header" id="faq8Header">
            <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#faq8">
              8. What next after prediction?
            </button>
          </h2>
          <div id="faq8" class="accordion-collapse collapse">
            <div class="accordion-body">Consult a specialist if needed</div>
          </div>
        </div>
  </div>
</div>

</div>
</main>
  <!-- FOOTER -->
  <footer>
    <div class="footer-container container">
      <div class="footer-section">
        <h3>About</h3>
        <ul>
          <li><a href="#">Care</a></li>
          <li><a href="#">Trust</a></li>
          <li><a href="#">Quality</a></li>
          <li><a href="#">Service</a></li>
          <li><a href="#">Safety</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Services</h3>
        <ul>
          <li><a href="#">Clinic</a></li>
          <li><a href="#">Emergency</a></li>
          <li><a href="#">Pharmacy</a></li>
          <li><a href="#">Diseases</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Contact</h3>
        <ul>
          <li><i class="bi bi-telephone me-2"></i><a href="tel:+919876543210">+91 8522974922</a></li>
          <li><i class="bi bi-envelope me-2"></i><a href="mailto:support@HEALTHCARE.com">support@HEALTHCARE.com</a></li>
          <li><i class="bi bi-geo-alt me-2"></i>Hyderabad, 500001, India</li>
          <li><i class="bi bi-globe me-2"></i><a href="https://HEALTHCARE.com">www.HEALTHCARE.com</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Follow Us</h3>
        <div class="social-icons">
          <a href="https://www.facebook.com"><i class="bi bi-facebook"></i></a>
        <a href="https://www.linkedin.com"><i class="bi bi-linkedin"></i></a>
        <a href="https://www.twitter.com"><i class="bi bi-twitter"></i></a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">© 2025 HealthCare. All rights reserved.</div>
  </footer>

  <!-- SCRIPTS: preview helpers + sidebar toggle -->
  
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
AOS.init({ once: true });
    // Smooth scroll for FAQ
document.querySelectorAll(".accordion-button").forEach(btn => {
  btn.addEventListener("click", () => {
    setTimeout(() => {
      btn.scrollIntoView({ behavior: "smooth", block: "center" });
    }, 300);
  });
});


function handleImageChange(input, previewID, removeID){
  const c=document.getElementById(previewID);
  const i=document.getElementById(previewID.replace("Container","Tag"));
  const r=document.getElementById(removeID);
  if(input.files[0]){
    i.src=URL.createObjectURL(input.files[0]);
    c.style.display="flex";
    r.style.display="block";
    setTimeout(()=>{container.scrollIntoView({behavior:"smooth"});},200);
  }
}

function clearImage(i,p,r){
  document.getElementById(i).value="";
  document.getElementById(p).style.display="none";
  document.getElementById(r).style.display="none";
}

function handleZipChange(input,previewID,removeID){
  const c=document.getElementById(previewID);
  const n=document.getElementById("xrayZipName");
  const r=document.getElementById(removeID);
  if(input.files[0]){
    n.textContent=input.files[0].name;
    c.style.display="flex";
    r.style.display="block";
    setTimeout(()=>{container.scrollIntoView({behavior:"smooth"});},200);
  }
}

function clearZip(i,p,r,n){
  document.getElementById(i).value="";
  document.getElementById(p).style.display="none";
  document.getElementById(r).style.display="none";
  document.getElementById(n).textContent="";
}
document.addEventListener("DOMContentLoaded", function(){
    let resultSection=document.getElementById("result-section");
    if(resultSection && resultSection.innerHTML.trim()!==""){
        setTimeout(()=>{resultSection.scrollIntoView({behavior:"smooth"});},400);
    }
});
document.querySelectorAll(".accordion-button").forEach(btn=>{
    btn.addEventListener("click", ()=>{
        setTimeout(()=>{btn.scrollIntoView({behavior:"smooth"});},250);
    });
});

</script>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- load project's module script (static/js/script.js) -->
  <script type="module" src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>

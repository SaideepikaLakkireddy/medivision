<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Skin Disease Prediction</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
 <!-- Google Fonts -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Mozilla+Headline:wght@200..700&display=swap" rel="stylesheet" />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
<!-- Global stylesheet -->
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

<style>
/* Skin page scoped styles (as in your original) */
body { background: #fff !important; font-family: "Segoe UI", sans-serif; margin: 0; padding: 0; }
.skin-page-wrapper { padding: 20px; min-height: calc(100vh - 140px); display:flex; justify-content:center; align-items:flex-start; box-sizing:border-box; }
.skin-page-wrapper .page-wrapper { display: flex; justify-content: center; align-items: flex-start; flex-wrap: wrap; gap: 25px; }
.skin-page-wrapper .equal-card { width: 430px; min-height: 540px; opacity: 0; transform: translateY(25px); animation: fadeSlide 0.8s ease-out forwards; }
.skin-page-wrapper .container { max-width:1300px; margin:0 auto; position: relative; padding-left: 15px; padding-right: 15px; }
.skin-page-wrapper .card, .skin-page-wrapper .faq-section { min-height:540px; }
.skin-page-wrapper .card { border-radius:12px; box-shadow:0 2px 12px rgba(0,0,0,0.15); background:#c9d7ff; padding:28px; }
.skin-page-wrapper .card h2 { text-align:center; margin-bottom:25px; font-size:2rem; }
.skin-page-wrapper .plain-img-box, .skin-page-wrapper .plain-zip-box { width:100%; background:#fff; border:2px solid black; border-radius:10px; padding:30px; text-align:center; cursor:pointer; margin-bottom:20px; }
.skin-page-wrapper .img-icon i { font-size:50px; color:#0d6efd; display:block; margin-top:10px; }
.skin-page-wrapper .real-input { display:none; }
.skin-page-wrapper .img-preview-container, .skin-page-wrapper .zip-preview-container { display: none; align-items: center; justify-content: space-between; width: 100%; margin-bottom: 12px; background: #fff; border: 2px solid black; border-radius: 10px; padding: 8px 12px; }
.skin-page-wrapper .img-preview-container img { width: 160px; height: 160px; object-fit: cover; border-radius: 10px; }
.skin-page-wrapper .zip-preview-container span { flex: 1; padding-left: 10px; word-break: break-all; }
.skin-page-wrapper .remove-small { display: none; padding: 6px 14px; background:#d82e3f; color:white; border:none; border-radius:6px; font-size:0.95rem; cursor:pointer; }
.skin-page-wrapper .predict-btn { width:100%; padding:12px 18px; margin-top:20px; background:#28a745; border:none; border-radius:8px; color:white; font-size:1.15rem; transition:0.25s; }
.skin-page-wrapper .predict-btn:hover { transform:scale(1.05); background:#218838; box-shadow:0 0 12px rgba(33,136,56,0.5); }
.skin-page-wrapper .back-btn { position: absolute; top: -10px; left: 10px; padding: 12px 14px; background:#3b2828; color: white; border: none; border-radius: 50%; cursor: pointer; font-size: 1.3rem; z-index: 10; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0,0,0,0.25); display: flex; align-items: center; justify-content: center; }
.skin-page-wrapper .back-btn:hover { transform: scale(1.15) rotate(-5deg); box-shadow: 0 6px 16px rgba(0,0,0,0.35); }
.skin-page-wrapper .faq-section { background:#c9d7ff;; border-radius:12px; padding:20px; }
.skin-page-wrapper .faq-section h3 { text-align:center; margin-bottom:20px; font-size:1.8rem; }
.skin-page-wrapper .accordion-item { border-bottom: 3px solid #0d6efd; }
@keyframes fadeSlide { from { opacity: 0; transform: translateY(25px); } to { opacity: 1; transform: translateY(0); } }
@media (max-width: 992px) { .skin-page-wrapper .equal-card { width: 90%; } .skin-page-wrapper .back-btn { top: 0; left: 5px; font-size: 1.1rem; padding: 8px 10px; } }
@media (max-width: 576px) { .skin-page-wrapper { padding:10px; } .skin-page-wrapper .equal-card { width: 100%; min-height: auto; } .skin-page-wrapper .img-preview-container img { width: 120px; height: 120px; } }
footer { margin-top: 24px; }
</style>
</head>
<body>

<!-- NAVBAR -->
<header class="sticky-top">
  <nav class="navbar navbar-expand-lg site-nav">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center gap-2" href="{{ url_for('home_html') }}">
        <img src="{{ url_for('static', filename='assets/img1.png') }}" alt="Logo" height="50" width="50" class="rounded-circle">
        <span class="fw-bold">MEDIVISION AI</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="{{ url_for('home_html') }}">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('about_html') }}">About</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('finddoctors_html') }}">Find Doctor</a></li>
          <li class="nav-item"><a class="nav-link active" href="{{ url_for('prediction_html') }}">Our AI</a></li>
          <li class="nav-item"><a class="nav-link" href="{{ url_for('contact_html') }}">Contact</a></li>
        </ul>
       <ul class="navbar-nav ms-auto align-items-center">

            <li class="nav-item" id="loginBtnContainer">
              <button class="login-btn" onclick="window.location.href='{{ url_for('login_html') }}'">
                Login <i class="bi bi-person ms-1"></i>
              </button>
            </li>

            <!-- FIXED: Correct profile icon ID for script.js -->
            <li class="nav-item d-none ms-3" id="profileIconContainer" title="Profile">
              <i class="bi bi-person-circle" id="openProfileBtn" role="button"></i>
            </li>

          </ul>

      </div>
    </div>
  </nav>
</header>

<!-- PROFILE SIDEBAR -->
<aside id="profileSidebar" class="profile-sidebar" aria-hidden="true">
  <div>
    <div class="sidebar-header">
      <i class="bi bi-person-circle sidebar-icon"></i>
      <h4 id="sidebarName">User Name</h4>
      <p id="sidebarEmail">user@example.com</p>
      <p id="sidebarMobile">Mobile:</p>
    </div>
    <div class="sidebar-content">
      <a href="{{ url_for('health_records_html') }}" class="btn btn-light w-100 mb-3">Health Records</a>
    </div>
  </div>
  <div>
    <button class="btn btn-danger w-100" id="logoutBtn">Logout</button>
  </div>
</aside>
<div id="sidebarOverlay" class="sidebar-overlay" aria-hidden="true"></div>

<!-- MAIN CONTENT -->
<main class="skin-page-wrapper">
  <div class="container">

    <button class="back-btn" onclick="window.location.href='{{ url_for('prediction_html') }}'"><i class="fas fa-arrow-left"></i></button>

    <div class="page-wrapper d-flex align-items-stretch">

        <!-- UPLOAD FORM CARD -->
        <div class="equal-card card d-flex flex-column">
            <h2>Skin Disease Prediction</h2>

            <form method="post" action="{{ url_for('skin_result_page') }}" enctype="multipart/form-data">

              <div class="plain-img-box" onclick="document.getElementById('skinImg').click()">
                Upload a single image
                <div class="img-icon"><i class="fas fa-cloud-arrow-up"></i></div>
              </div>
              <input id="skinImg" name="skin_image" type="file" class="real-input" accept="image/*"
                     onchange="handleImageChange(this,'skinPreviewImgContainer','skinRemove')">
              <div id="skinPreviewImgContainer" class="img-preview-container">
                <img id="skinPreviewImgTag" src="">
                <button id="skinRemove" type="button" class="remove-small"
                        onclick="clearImage('skinImg','skinPreviewImgContainer','skinRemove')">Remove</button>
              </div>

              <div class="plain-zip-box" onclick="document.getElementById('skinZip').click()">
                Upload ZIP file (multiple images)
                <div class="img-icon"><i class="fas fa-folder"></i></div>
              </div>
              <input id="skinZip" name="skin_zip" type="file" class="real-input" accept=".zip"
                     onchange="handleZipChange(this,'skinZipPreviewContainer','skinZipRemove')">
              <div id="skinZipPreviewContainer" class="zip-preview-container">
                <span id="skinZipName"></span>
                <button id="skinZipRemove" type="button" class="remove-small"
                        onclick="clearZip('skinZip','skinZipPreviewContainer','skinZipRemove','skinZipName')">Remove</button>
              </div>

              <button type="submit" class="predict-btn">Predict Skin Disease</button>
            </form>

            <div id="result-section"></div>
        </div>

        <!-- FAQ CARD -->
        <div class="equal-card faq-section">
            <h3>Frequently Asked Questions</h3>
            <div class="accordion" id="faqAccordion">
              <!-- FAQ items -->
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq1Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                    1. How do I upload a Skin image?
                  </button>
                </h2>
                <div id="faq1" class="accordion-collapse collapse">
                  <div class="accordion-body">Click the Upload Image button, select your skin photo and submit it.</div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq2Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                    2. What type of images can I upload?
                  </button>
                </h2>
                <div id="faq2" class="accordion-collapse collapse">
                  <div class="accordion-body">You can upload JPG, JPEG, or PNG images.</div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq3Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                    3. Can I upload more than one image?
                  </button>
                </h2>
                <div id="faq3" class="accordion-collapse collapse">
                  <div class="accordion-body">Yes, single image or ZIP supported.</div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq4Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                    4. How long does prediction take?
                  </button>
                </h2>
                <div id="faq4" class="accordion-collapse collapse">
                  <div class="accordion-body">Usually 1–3 seconds.</div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq5Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                    5. What will I get after uploading?
                  </button>
                </h2>
                <div id="faq5" class="accordion-collapse collapse">
                  <div class="accordion-body">
                    • Diagnosis (Benign / Malignant)<br>
                    • Confidence<br>
                    • Doctor recommendation
                  </div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq6Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                    6. How accurate is it?
                  </button>
                </h2>
                <div id="faq6" class="accordion-collapse collapse">
                  <div class="accordion-body">AI provides confidence score; consult a dermatologist.</div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq7Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq7">
                    7. Can I upload mobile photos?
                  </button>
                </h2>
                <div id="faq7" class="accordion-collapse collapse">
                  <div class="accordion-body">Yes, clear mobile images work fine.</div>
                </div>
              </div>
              <div class="accordion-item">
                <h2 class="accordion-header" id="faq8Header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq8">
                    8. What if confidence is low?
                  </button>
                </h2>
                <div id="faq8" class="accordion-collapse collapse">
                  <div class="accordion-body">AI may show multiple possibilities; consult a dermatologist.</div>
                </div>
              </div>
            </div>
        </div>

    </div>
  </div>
</main>

<!-- FOOTER -->
<footer>
  <div class="footer-container container">
    <div class="footer-section">
      <h3>About</h3>
      <ul>
        <li><a href="#">Care</a></li>
        <li><a href="#">Trust</a></li>
        <li><a href="#">Quality</a></li>
        <li><a href="#">Service</a></li>
        <li><a href="#">Safety</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h3>Services</h3>
      <ul>
        <li><a href="#">Clinic</a></li>
        <li><a href="#">Emergency</a></li>
        <li><a href="#">Pharmacy</a></li>
        <li><a href="#">Diseases</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h3>Contact</h3>
      <ul>
        <li><i class="bi bi-telephone me-2"></i><a href="tel:+919876543210">+91 8522974922</a></li>
        <li><i class="bi bi-envelope me-2"></i><a href="mailto:support@HEALTHCARE.com">support@HEALTHCARE.com</a></li>
        <li><i class="bi bi-geo-alt me-2"></i>Hyderabad, 500001, India</li>
        <li><i class="bi bi-globe me-2"></i><a href="https://HEALTHCARE.com">www.HEALTHCARE.com</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h3>Follow Us</h3>
      <div class="social-icons">
        <a href="https://www.facebook.com"><i class="bi bi-facebook"></i></a>
        <a href="https://www.linkedin.com"><i class="bi bi-linkedin"></i></a>
        <a href="https://www.twitter.com"><i class="bi bi-twitter"></i></a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">© 2025 HealthCare. All rights reserved.</div>
</footer>

<!-- SCRIPTS -->
<script>
function handleImageChange(input, previewID, removeID){
  const c=document.getElementById(previewID);
  const i=document.getElementById(previewID.replace("Container","Tag"));
  const r=document.getElementById(removeID);
  if(input.files[0]){
    i.src=URL.createObjectURL(input.files[0]);
    c.style.display="flex";
    r.style.display="block";
    setTimeout(()=>{container.scrollIntoView({behavior:"smooth"});},200);
  }
}

function clearImage(i,p,r){
  document.getElementById(i).value="";
  document.getElementById(p).style.display="none";
  document.getElementById(r).style.display="none";
}

function handleZipChange(input,previewID,removeID){
  const c=document.getElementById(previewID);
  const n=document.getElementById("skinZipName");
  const r=document.getElementById(removeID);
  if(input.files[0]){
    n.textContent=input.files[0].name;
    c.style.display="flex";
    r.style.display="block";
    setTimeout(()=>{container.scrollIntoView({behavior:"smooth"});},200);
  }
}

function clearZip(i,p,r,n){
  document.getElementById(i).value="";
  document.getElementById(p).style.display="none";
  document.getElementById(r).style.display="none";
  document.getElementById(n).textContent="";
}

document.addEventListener("DOMContentLoaded", function(){
    let resultSection=document.getElementById("result-section");
    if(resultSection && resultSection.innerHTML.trim()!==""){
        setTimeout(()=>{resultSection.scrollIntoView({behavior:"smooth"});},400);
    }
});
document.querySelectorAll(".accordion-button").forEach(btn=>{
    btn.addEventListener("click", ()=>{
        setTimeout(()=>{btn.scrollIntoView({behavior:"smooth"});},250);
    });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
